
### **产品需求文档 (PRD)：AI识花小程序**

**版本：** 1.0

**日期：** 2025年8月16日

**负责人：** [您的名字]

---

### 1. **产品概述与目标**

#### 1.1. **产品简介**

“AI识花”是一个轻量级的移动端网页应用，用户可以通过微信内置的浏览器直接访问。该应用的核心功能是允许用户上传一张花的图片，并通过集成智谱AI（GLM-4.5V模型）的识图能力，快速识别并告知用户花朵的名称。

#### 1.2. **目标**

*   **快速上线：** 以最简化、最核心的功能为基础，在最短的时间内完成开发、测试和部署，推向市场进行验证。
*   **简洁易用：** 提供一个直观、无干扰的用户界面，让用户可以一步到位地完成上传和识别操作。
*   **服务特定场景：** 满足用户在户外、花卉市场或日常生活中遇到不认识的花朵时，即时获取信息的科普需求。

---

### 2. **用户与市场**

#### 2.1. **目标用户**

*   花卉爱好者、园艺新手
*   带孩子的家长，用于户外科普教育
*   对周围事物有好奇心的普通大众

#### 2.2. **用户故事**

*   **作为一名园艺爱好者**，当我在公园里看到一株漂亮但不认识的花时，我希望能快速用手机拍下来并知道它的名字和基本信息。
*   **作为一位家长**，当孩子在户外指着一朵花问我这是什么时，我希望能有一个工具能立刻告诉我答案，方便我进行机会教育。

---

### 3. **功能需求**

#### 3.1. **核心功能：图片上传与识别**

*   **FR-001：上传入口**
    *   **描述：** 页面上必须有一个清晰、醒目的按钮或区域，引导用户上传或拍摄一张图片。
    *   **要求：**
        *   点击后，应能调用手机的摄像头进行拍照，或从手机相册中选择一张已有的图片。
        *   应支持常见的图片格式，如JPG, PNG, WEBP。
        *   建议对上传的图片大小进行适当压缩，以加快上传速度和降低API调用成本，例如，限制在5MB以内。

*   **FR-002：AI识别与结果展示**
    *   **描述：** 用户上传图片后，系统应将图片发送至AI模型进行分析，并将识别出的花名展示给用户。
    *   **要求：**
        *   图片上传成功后，界面应显示一个加载状态，告知用户“正在识别中...”。
        *   调用后端的AI接口进行识别。
        *   识别成功后，在页面显著位置清晰地展示花的名字，并附带原图片，例如：“这可能是：**玫瑰**”。
        *   如果AI无法识别或返回错误，应向用户展示友好的提示信息，如“抱歉，暂时无法识别，请换一张更清晰的图片试试”。

---

### 4. **技术规格**

#### 4.1. **前端**

*   **框架：** 建议使用轻量级前端框架（如Vue.js, React）或原生JavaScript，以保证页面加载速度。
*   **界面设计：**
    *   **主页：**
        *   一个标题，如“AI识花”。
        *   一个大的“点击上传图片”按钮。
        *   一个简短的说明文字，如“拍下花朵，即刻知晓它的名字”。
    *   **结果页（可与主页复用）：**
        *   上传图片的缩略图预览。
        *   识别结果的文本展示区域。
        *   一个“再试一次”的按钮，方便用户重新上传。
*   **交互：** 整个流程应在单页内完成，避免页面跳转，提升用户体验。

#### 4.2. **后端与AI集成**

*   **后端逻辑：**
    *   由于需要保护API Key，必须通过一个后端服务来调用AI模型，**严禁将API Key直接暴露在前端代码中**。
    *   这个后端服务可以是一个简单的云函数（Serverless Function）。

*   **AI模型调用：**
    *   **模型：** 智谱AI GLM-4.5V (https://docs.bigmodel.cn/cn/guide/models/vlm/glm-4.5v)
    *   **API Key：** `c86f3e09702947fcb3b1d65b5c4d349a.KIQaMpAZlWdKrzsg`
    *   **实现方式：**
        1.  前端用户上传图片后，将图片数据发送到我们的后端云函数。
        2.  后端云函数接收到图片数据。
        3.  云函数从环境变量或安全的密钥管理服务中读取API Key。
        4.  云函数按照智谱AI的API文档格式，构造请求（包含图片和prompt），向`https://open.bigmodel.cn/...`的API端点发起调用。
        5.  Prompt示例：“请识别并告诉我这张图里最主要的花是什么名字？只告诉我名字即可。”
        6.  云函数接收到AI返回的结果，解析出花名。
        7.  云函数将提取出的花名返回给前端。

#### 4.3. **部署**

*   **平台：** Vercel 或 Netlify。
*   **优势：**
    *   两者都提供免费套餐，足以应对项目初期的流量。
    *   都原生支持Serverless Functions（云函数），非常适合用于创建调用AI模型的后端代理服务，能够很好地隐藏API Key。
    *   为中国大陆用户提供了优化的访问节点（CDN），可以确保较快的访问速度。
*   **部署流程（以Vercel为例）：**
    1.  将前端代码和后端的云函数代码放在同一个代码仓库中。
    2.  在Vercel项目中，将智谱AI的API Key设置为环境变量（Environment Variable），例如，变量名为`ZHIPU_API_KEY`。
    3.  在云函数代码中，通过`process.env.ZHIPU_API_KEY`的方式来读取和使用密钥。
    4.  Vercel会自动处理部署和云函数的配置。

---

